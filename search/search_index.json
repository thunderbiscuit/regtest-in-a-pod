{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"A Full Regtest Setup Available on Command","text":"<p>The goal of this project is to provide bitcoin software developers a simple and powerful regtest setup ready to go, easy to power up and down in a few seconds. For a quick overview of how the setup works once its enabled, check out this YouTube video.</p> <p>Once up, the Podman container offers:</p> <ul> <li>A full bitcoin core node in daemon mode</li> <li>An Electrum server ready to connect to</li> <li>An Esplora server ready to connect to</li> <li>A simple block explorer</li> <li>The node has compact block filter enabled</li> <li>Awesome <code>just</code> commands to get stuff done</li> </ul> <p></p> <p>Here are examples of what you can do from your command line once the container is up and running:</p> <pre><code># Send coins\njust sendto &lt;address&gt;\n\n# Mine any number of blocks\njust mine 21\n\n# See logs for different services\njust bitcoindlogs\n</code></pre>"},{"location":"install/","title":"Install","text":"<p>Info</p> <p>The Using Podman Containers for Regtest Bitcoin Development blog post has all the details on Podman, machines, images, and containers.</p> <p>First, make sure you have Podman and just installed on your computer.</p> <p>Then create a directory called <code>podman</code> somewhere on your machine and clone the repo:</p> <pre><code>mkdir ~/podman/\ngit clone https://github.com/thunderbiscuit/regtest-in-a-pod.git\n</code></pre> <p>Make sure you have a podman machine enabled with sufficient resources. </p> <pre><code># Create a machine called regtest\npodman machine init --cpus 4 --memory 4096 --disk-size 20 regtest\n</code></pre> <p>Get into the container's directory and build the container. Note that you must specify a <code>BITCOIN_VERSION</code> and <code>TARGET_ARCH</code> to use the bitcoin core version you need using the <code>--build-arg</code> argument on the <code>podman</code> command.</p> <pre><code>cd regtest-in-a-pod/\npodman machine start regtest\npodman --connection regtest build --build-arg BITCOIN_VERSION=28.1 --build-arg TARGET_ARCH=x86_64-linux-gnu --tag localhost/regtest:v1.0.0 --file ./Containerfile\npodman --connection regtest create --name RegtestBitcoinEnv --publish 18443:18443 --publish 18444:18444 --publish 3002:3002 --publish 3003:3003 --publish 60401:60401 localhost/regtest:v1.1.0\n</code></pre> <p>You're now ready to start using the container! See the Usage page for all the details.</p>"},{"location":"usage/","title":"Usage","text":"<p>Start the podman machine and <code>RegtestBitcoinEnv</code> container to fire up all services:</p> <pre><code>cd ~/podman/regtest-in-a-pod/\njust start\n\n# Alternatively, use\npodman machine start regtest\npodman start RegtestBitcoinEnv\n</code></pre>"},{"location":"usage/#commands","title":"Commands","text":"<p>The best way to explore what the regtest environment can do is to take a look at the <code>justfile</code> in the root of the repository, or use the <code>just</code> command to list all available commands.</p> <pre><code>\u276f just\nAvailable recipes:\n    [Podman]\n    default                    # List all available commands.\n    services                   # List the available services and their endpoints.\n    start                      # Start your podman machine and regtest environment.\n    stop                       # Stop your podman machine and regtest environment.\n    podshell                   # Enter the shell in the pod.\n    explorer                   # Open the block explorer.\n\n    [Bitcoin Core]\n    cookie                     # Print the current session cookie to console.\n    mine BLOCKS=\"1\"            # Mine a block, or mine &lt;BLOCKS&gt; number of blocks.\n    sendminingrewardto ADDRESS # Send mining reward to &lt;ADDRESS&gt;\n    cli COMMAND                # Send a command to bitcoin-cli\n\n    [Logs]\n    logs                       # Print all logs to console.\n    bitcoindlogs               # Print bitcoin daemon logs to console.\n    esploralogs                # Print Esplora logs to console.\n    explorerlogs               # Print block explorer logs to console.\n\n    [Docs]\n    servedocs                  # Serve the local docs.\n    docs                       # Open the website for docs.\n\n    [Default Wallet]\n    createwallet               # Create a default wallet.\n    loadwallet                 # Load the default wallet.\n    newaddress                 # Print an address from the default wallet.\n    walletbalance              # Print the balance of the default wallet.\n    sendto ADDRESS             # Send 1 bitcoin to ADDRESS using the default wallet.\n</code></pre>"}]}